"use strict";(self.webpackChunkbanking_portal=self.webpackChunkbanking_portal||[]).push([[994],{2021:(D,C,l)=>{l.d(C,{w:()=>e});var t=l(3862),d=l(9544),f=l(4358);function S(r,i){if(1&r&&(t.\u0275\u0275elementStart(0,"div",10),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&r){const c=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(c.secondaryLabel)}}function w(r,i){if(1&r){const c=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",7),t.\u0275\u0275listener("mousedown",function(){const u=t.\u0275\u0275restoreView(c).$implicit,m=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(m.selectOption(u))}),t.\u0275\u0275elementStart(1,"div",8),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(3,S,2,1,"div",9),t.\u0275\u0275elementEnd()}if(2&r){const c=i.$implicit,s=t.\u0275\u0275nextContext(2);t.\u0275\u0275classProp("selected",c.value===s.selectedValue),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(c.label),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",c.secondaryLabel)}}function x(r,i){if(1&r&&(t.\u0275\u0275elementStart(0,"div",5),t.\u0275\u0275template(1,w,4,4,"div",6),t.\u0275\u0275elementEnd()),2&r){const c=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",c.filteredOptions)}}function v(r,i){1&r&&(t.\u0275\u0275elementStart(0,"div",5)(1,"div",11),t.\u0275\u0275text(2," No se encontraron resultados "),t.\u0275\u0275elementEnd()())}let e=(()=>{var r;class i{constructor(){this.options=[],this.placeholder="Buscar...",this.disabled=!1,this.searchTerm="",this.filteredOptions=[],this.selectedValue=null,this.showDropdown=!1,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this.filteredOptions=this.options}filterOptions(){if(!this.searchTerm||""===this.searchTerm.trim())return void(this.filteredOptions=this.options);const s=this.searchTerm.toLowerCase();this.filteredOptions=this.options.filter(u=>u.label.toLowerCase().includes(s)||u.secondaryLabel&&u.secondaryLabel.toLowerCase().includes(s))}selectOption(s){this.selectedValue=s.value,this.searchTerm=s.label,this.showDropdown=!1,this.onChange(s.value),this.onTouched()}onFocus(){this.showDropdown=!0,this.filterOptions()}onBlur(){setTimeout(()=>{this.showDropdown=!1,this.selectedValue||(this.searchTerm="")},200)}writeValue(s){if(this.selectedValue=s,s){const u=this.options.find(m=>m.value===s);u&&(this.searchTerm=u.label)}else this.searchTerm=""}registerOnChange(s){this.onChange=s}registerOnTouched(s){this.onTouched=s}setDisabledState(s){this.disabled=s}static#e=r=()=>(this.\u0275fac=function(u){return new(u||i)},this.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["app-searchable-select"]],inputs:{options:"options",placeholder:"placeholder",disabled:"disabled"},features:[t.\u0275\u0275ProvidersFeature([{provide:f.NG_VALUE_ACCESSOR,useExisting:(0,t.forwardRef)(()=>i),multi:!0}])],decls:7,vars:5,consts:[[1,"searchable-select"],[1,"search-input-wrapper"],["type","text","autocomplete","off",1,"search-input",3,"ngModelChange","focus","blur","input","placeholder","ngModel","disabled"],[1,"dropdown-icon"],["class","dropdown-list",4,"ngIf"],[1,"dropdown-list"],["class","dropdown-item",3,"selected","mousedown",4,"ngFor","ngForOf"],[1,"dropdown-item",3,"mousedown"],[1,"option-label"],["class","option-secondary",4,"ngIf"],[1,"option-secondary"],[1,"dropdown-item","no-results"]],template:function(u,m){1&u&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"input",2),t.\u0275\u0275twoWayListener("ngModelChange",function(O){return t.\u0275\u0275twoWayBindingSet(m.searchTerm,O)||(m.searchTerm=O),O}),t.\u0275\u0275listener("focus",function(){return m.onFocus()})("blur",function(){return m.onBlur()})("input",function(){return m.filterOptions()}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"span",3),t.\u0275\u0275text(4,"\u25bc"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(5,x,2,1,"div",4)(6,v,3,0,"div",4),t.\u0275\u0275elementEnd()),2&u&&(t.\u0275\u0275advance(2),t.\u0275\u0275property("placeholder",m.placeholder),t.\u0275\u0275twoWayProperty("ngModel",m.searchTerm),t.\u0275\u0275property("disabled",m.disabled),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",m.showDropdown&&m.filteredOptions.length>0),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",m.showDropdown&&0===m.filteredOptions.length&&m.searchTerm))},dependencies:[d.CommonModule,d.NgForOf,d.NgIf,f.FormsModule,f.DefaultValueAccessor,f.NgControlStatus,f.NgModel],styles:[".searchable-select[_ngcontent-%COMP%]{position:relative;width:100%}.search-input-wrapper[_ngcontent-%COMP%]{position:relative}.search-input[_ngcontent-%COMP%]{width:100%;padding:10px 35px 10px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px;background-color:#fff;transition:all .2s;box-sizing:border-box}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#1976d2;box-shadow:0 0 0 2px #1976d21a}.search-input[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;cursor:not-allowed}.dropdown-icon[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);pointer-events:none;color:#666;font-size:10px}.dropdown-list[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;background:#fff;border:1px solid #ddd;border-radius:6px;margin-top:4px;max-height:250px;overflow-y:auto;box-shadow:0 4px 12px #00000026;z-index:1000}.dropdown-item[_ngcontent-%COMP%]{padding:10px 12px;cursor:pointer;transition:background-color .15s;border-bottom:1px solid #f0f0f0}.dropdown-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.dropdown-item.selected[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1976d2}.dropdown-item.no-results[_ngcontent-%COMP%]{color:#999;cursor:default;text-align:center}.dropdown-item.no-results[_ngcontent-%COMP%]:hover{background-color:#fff}.option-label[_ngcontent-%COMP%]{font-weight:500;color:#333}.option-secondary[_ngcontent-%COMP%]{font-size:12px;color:#666;margin-top:2px}.dropdown-item.selected[_ngcontent-%COMP%]   .option-label[_ngcontent-%COMP%]{color:#1976d2}"]}))}return r(),i})()},2994:(D,C,l)=>{l.r(C),l.d(C,{ReportsPageComponent:()=>I});var t=l(9544),d=l(4358),f=l(2425),S=l(8219),w=l(1573),x=l(5417),v=l(2021),e=l(3862),r=l(3464);let i=(()=>{var p;class h{constructor(n){this.apiService=n,this.endpoint="/reports"}generateAccountStatement(n){const o={clientId:n.clientId.toString()};return n.startDate&&(o.startDate=n.startDate),n.endDate&&(o.endDate=n.endDate),this.apiService.get(this.endpoint,o)}generateAccountStatementByDates(n,o,a){const _={clientId:n.toString(),startDate:this.formatDate(o),endDate:this.formatDate(a)};return this.apiService.get(this.endpoint,_)}downloadAccountStatementPdf(n){const o={clientId:n.clientId.toString()};return n.startDate&&(o.startDate=n.startDate),n.endDate&&(o.endDate=n.endDate),this.apiService.get(`${this.endpoint}/pdf`,o)}formatDate(n){return n.toISOString().split("T")[0]}static#e=p=()=>(this.\u0275fac=function(o){return new(o||h)(e.\u0275\u0275inject(r.G))},this.\u0275prov=e.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac,providedIn:"root"}))}return p(),h})();var c=l(9999),s=l(5567);function u(p,h){if(1&p){const g=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"app-button",19),e.\u0275\u0275listener("clicked",function(){e.\u0275\u0275restoreView(g);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.downloadPdf())}),e.\u0275\u0275text(1," Descargar PDF "),e.\u0275\u0275elementEnd()}if(2&p){const g=e.\u0275\u0275nextContext();e.\u0275\u0275property("disabled",g.loading)}}function m(p,h){if(1&p&&(e.\u0275\u0275elementStart(0,"div",20),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&p){const g=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" ",g.getFieldError("clientId")," ")}}function y(p,h){if(1&p&&(e.\u0275\u0275elementStart(0,"div",21)(1,"div",22)(2,"div",23)(3,"h3"),e.\u0275\u0275text(4,"Saldo Inicial"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"p",24),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"currency"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"div",23)(9,"h3"),e.\u0275\u0275text(10,"Total Dep\xf3sitos"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"p",25),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"currency"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(14,"div",23)(15,"h3"),e.\u0275\u0275text(16,"Total Retiros"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"p",26),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"currency"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div",23)(21,"h3"),e.\u0275\u0275text(22,"Saldo Final"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"p",24),e.\u0275\u0275text(24),e.\u0275\u0275pipe(25,"currency"),e.\u0275\u0275elementEnd()()()()),2&p){const g=e.\u0275\u0275nextContext();e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind4(7,4,null==g.reportData[0]?null:g.reportData[0].initialBalance,"USD","symbol","1.2-2")),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind4(13,9,g.getTotalDeposits(),"USD","symbol","1.2-2")),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind4(19,14,g.getTotalWithdrawals(),"USD","symbol","1.2-2")),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind4(25,19,null==g.reportData[g.reportData.length-1]?null:g.reportData[g.reportData.length-1].availableBalance,"USD","symbol","1.2-2"))}}function O(p,h){if(1&p&&(e.\u0275\u0275elementStart(0,"div",27),e.\u0275\u0275element(1,"app-table",28),e.\u0275\u0275elementEnd()),2&p){const g=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("data",g.reportData)("columns",g.tableColumns)("showPagination",!0)("pageSize",g.pageSize)}}function M(p,h){1&p&&(e.\u0275\u0275elementStart(0,"div",29)(1,"div",30)(2,"h3"),e.\u0275\u0275text(3,"No hay datos para mostrar"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"p"),e.\u0275\u0275text(5,"Seleccione un rango de fechas y genere un reporte para ver los movimientos."),e.\u0275\u0275elementEnd()()())}function E(p,h){1&p&&(e.\u0275\u0275elementStart(0,"div",31)(1,"div",32),e.\u0275\u0275element(2,"div",33),e.\u0275\u0275elementStart(3,"p"),e.\u0275\u0275text(4,"Generando reporte..."),e.\u0275\u0275elementEnd()()())}let I=(()=>{var p;class h{constructor(n,o,a,_){this.reportService=n,this.clientService=o,this.notificationService=a,this.fb=_,this.reportData=[],this.clients=[],this.clientOptions=[],this.loading=!1,this.pageSize=25,this.tableColumns=[{key:"date",label:"Fecha",sortable:!0,type:"date"},{key:"client",label:"Cliente",sortable:!0},{key:"accountNumber",label:"N\xfamero Cuenta",sortable:!0},{key:"type",label:"Tipo",sortable:!0},{key:"initialBalance",label:"Saldo Inicial",sortable:!0,type:"currency"},{key:"status",label:"Estado",sortable:!0,type:"boolean"},{key:"movement",label:"Movimiento",sortable:!0,type:"currency"},{key:"availableBalance",label:"Saldo Disponible",sortable:!0,type:"currency"}],this.destroy$=new f.Subject,this.reportForm=this.createForm()}ngOnInit(){this.loadClients(),this.setDefaultDateRange()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}createForm(){return this.fb.group({clientId:["",d.Validators.required],startDate:["",d.Validators.required],endDate:["",d.Validators.required]})}setDefaultDateRange(){const n=new Date,o=new Date;o.setDate(1),this.reportForm.patchValue({startDate:o.toISOString().split("T")[0],endDate:n.toISOString().split("T")[0]})}loadClients(){this.clientService.getClients().pipe((0,f.takeUntil)(this.destroy$)).subscribe({next:n=>{this.clients=n,this.clientOptions=n.map(o=>({value:o.clientId,label:o.name,secondaryLabel:`ID: ${o.identification}`}))},error:n=>{console.error("Error cargando clientes:",n),this.notificationService.showError("Error","No se pudieron cargar los clientes")}})}generateReport(){if(this.reportForm.valid){this.loading=!0;const n=this.reportForm.value,o={clientId:parseInt(n.clientId),startDate:n.startDate,endDate:n.endDate};this.reportService.generateAccountStatement(o).pipe((0,f.takeUntil)(this.destroy$)).subscribe({next:a=>{this.reportData=[...a],this.loading=!1,this.notificationService.showSuccess("\xc9xito",`Reporte generado: ${a.length} movimientos`)},error:a=>{console.error("Error generando reporte:",a),this.notificationService.showError("Error","No se pudo generar el reporte: "+a.message),this.loading=!1}})}}downloadPdf(){if(0===this.reportData.length)return void this.notificationService.showWarning("Advertencia","No hay datos para descargar");this.loading=!0;const n=this.reportForm.value,o={clientId:parseInt(n.clientId),startDate:n.startDate,endDate:n.endDate};this.reportService.downloadAccountStatementPdf(o).pipe((0,f.takeUntil)(this.destroy$)).subscribe({next:a=>{const _=this.base64ToBlob(a.pdfBase64,"application/pdf"),P=window.URL.createObjectURL(_),b=document.createElement("a");b.href=P,b.download=`estado-cuenta-${n.clientId}-${n.startDate}.pdf`,b.click(),window.URL.revokeObjectURL(P),this.loading=!1,this.notificationService.showSuccess("\xc9xito","PDF descargado correctamente")},error:a=>{console.error("Error descargando PDF:",a),this.notificationService.showError("Error","No se pudo descargar el PDF: "+a.message),this.loading=!1}})}base64ToBlob(n,o=""){const a=atob(n),_=new Array(a.length);for(let b=0;b<a.length;b++)_[b]=a.charCodeAt(b);const P=new Uint8Array(_);return new Blob([P],{type:o})}getTotalDeposits(){return this.reportData.filter(n=>n.movement>0).reduce((n,o)=>n+o.movement,0)}getTotalWithdrawals(){return Math.abs(this.reportData.filter(n=>n.movement<0).reduce((n,o)=>n+o.movement,0))}getNetBalance(){return this.getTotalDeposits()-this.getTotalWithdrawals()}getFieldError(n){const o=this.reportForm.get(n);return o?.errors&&o.touched&&o.errors.required?"Este campo es requerido":""}static#e=p=()=>(this.\u0275fac=function(o){return new(o||h)(e.\u0275\u0275directiveInject(i),e.\u0275\u0275directiveInject(c.X),e.\u0275\u0275directiveInject(s.J),e.\u0275\u0275directiveInject(d.FormBuilder))},this.\u0275cmp=e.\u0275\u0275defineComponent({type:h,selectors:[["app-reports-page"]],decls:22,vars:13,consts:[[1,"reports-page"],[1,"page-header"],[1,"page-title"],[1,"page-actions"],["type","primary",3,"clicked","disabled"],["type","secondary",3,"disabled","clicked",4,"ngIf"],[1,"filters-section"],[1,"filters-form",3,"formGroup"],[1,"form-grid"],[1,"form-group"],[1,"form-label"],["formControlName","clientId","placeholder","Buscar cliente...",3,"options"],["class","error-message",4,"ngIf"],["label","Fecha Inicio","type","date","formControlName","startDate",3,"required","errorMessage"],["label","Fecha Fin","type","date","formControlName","endDate",3,"required","errorMessage"],["class","report-summary",4,"ngIf"],["class","report-table",4,"ngIf"],["class","no-data",4,"ngIf"],["class","loading",4,"ngIf"],["type","secondary",3,"clicked","disabled"],[1,"error-message"],[1,"report-summary"],[1,"summary-cards"],[1,"summary-card"],[1,"summary-value"],[1,"summary-value","positive"],[1,"summary-value","negative"],[1,"report-table"],["title","Movimientos del Reporte",3,"data","columns","showPagination","pageSize"],[1,"no-data"],[1,"no-data-content"],[1,"loading"],[1,"loading-content"],[1,"spinner"]],template:function(o,a){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h1",2),e.\u0275\u0275text(3,"Reportes"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",3)(5,"app-button",4),e.\u0275\u0275listener("clicked",function(){return a.generateReport()}),e.\u0275\u0275text(6," Generar Reporte "),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,u,2,1,"app-button",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"div",6)(9,"form",7)(10,"div",8)(11,"div",9)(12,"label",10),e.\u0275\u0275text(13,"Cliente *"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"app-searchable-select",11),e.\u0275\u0275template(15,m,2,1,"div",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(16,"app-input",13)(17,"app-input",14),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(18,y,26,24,"div",15)(19,O,2,4,"div",16)(20,M,6,0,"div",17)(21,E,5,0,"div",18),e.\u0275\u0275elementEnd()),2&o&&(e.\u0275\u0275advance(5),e.\u0275\u0275property("disabled",a.reportForm.invalid||a.loading),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",a.reportData.length>0),e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",a.reportForm),e.\u0275\u0275advance(5),e.\u0275\u0275property("options",a.clientOptions),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",a.getFieldError("clientId")),e.\u0275\u0275advance(),e.\u0275\u0275property("required",!0)("errorMessage",a.getFieldError("startDate")),e.\u0275\u0275advance(),e.\u0275\u0275property("required",!0)("errorMessage",a.getFieldError("endDate")),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",a.reportData.length>0),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",a.reportData.length>0),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",0===a.reportData.length&&!a.loading),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",a.loading))},dependencies:[t.CommonModule,t.NgIf,d.ReactiveFormsModule,d.\u0275NgNoValidate,d.NgControlStatus,d.NgControlStatusGroup,d.RequiredValidator,d.FormGroupDirective,d.FormControlName,d.FormsModule,S.Q,w.S,x.O,v.w,t.CurrencyPipe],styles:['@charset "UTF-8";.reports-page[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:var(--spacing-6)}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-6);padding-bottom:var(--spacing-4);border-bottom:1px solid var(--gray-200)}.page-title[_ngcontent-%COMP%]{font-size:var(--font-size-3xl);font-weight:600;color:var(--gray-800);margin:0}.page-actions[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-3)}.filters-section[_ngcontent-%COMP%]{background-color:var(--white);border-radius:var(--border-radius-lg);box-shadow:var(--shadow-sm);padding:var(--spacing-6);margin-bottom:var(--spacing-6)}.filters-form[_ngcontent-%COMP%]{width:100%}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:var(--spacing-4)}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-2)}.form-label[_ngcontent-%COMP%]{font-size:var(--font-size-sm);font-weight:500;color:var(--gray-700)}.form-select[_ngcontent-%COMP%]{padding:var(--spacing-3) var(--spacing-4);border:1px solid var(--gray-300);border-radius:var(--border-radius-md);background-color:var(--white);color:var(--gray-800);font-family:var(--font-family);font-size:var(--font-size-base);transition:all .2s ease;outline:none}.form-select[_ngcontent-%COMP%]:focus{border-color:var(--primary-color);box-shadow:0 0 0 2px #3b82f61a}.form-select[_ngcontent-%COMP%]:invalid{color:var(--gray-400)}.error-message[_ngcontent-%COMP%]{font-size:var(--font-size-xs);color:var(--error-color);margin-top:var(--spacing-1)}.report-summary[_ngcontent-%COMP%]{margin-bottom:var(--spacing-6)}.summary-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:var(--spacing-4)}.summary-card[_ngcontent-%COMP%]{background-color:var(--white);border-radius:var(--border-radius-lg);box-shadow:var(--shadow-sm);padding:var(--spacing-6);text-align:center;border-left:4px solid var(--primary-color)}.summary-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:var(--font-size-sm);font-weight:500;color:var(--gray-600);margin:0 0 var(--spacing-2) 0;text-transform:uppercase;letter-spacing:.05em}.summary-value[_ngcontent-%COMP%]{font-size:var(--font-size-2xl);font-weight:700;color:var(--gray-800);margin:0}.summary-value.positive[_ngcontent-%COMP%]{color:var(--success-color)}.summary-value.negative[_ngcontent-%COMP%]{color:var(--error-color)}.report-table[_ngcontent-%COMP%]{background-color:var(--white);border-radius:var(--border-radius-lg);box-shadow:var(--shadow-sm);overflow:hidden}.no-data[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:300px;background-color:var(--white);border-radius:var(--border-radius-lg);box-shadow:var(--shadow-sm)}.no-data-content[_ngcontent-%COMP%]{text-align:center;color:var(--gray-500)}.no-data-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:var(--font-size-xl);font-weight:600;margin:0 0 var(--spacing-2) 0;color:var(--gray-600)}.no-data-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:var(--font-size-base);margin:0}.loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:300px;background-color:var(--white);border-radius:var(--border-radius-lg);box-shadow:var(--shadow-sm)}.loading-content[_ngcontent-%COMP%]{text-align:center;color:var(--gray-600)}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid var(--gray-200);border-top:4px solid var(--primary-color);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto var(--spacing-4) auto}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:var(--font-size-base);margin:0;color:var(--gray-600)}@media (max-width: 768px){.reports-page[_ngcontent-%COMP%]{padding:var(--spacing-4)}.page-header[_ngcontent-%COMP%]{flex-direction:column;gap:var(--spacing-4);align-items:stretch}.page-actions[_ngcontent-%COMP%]{justify-content:center}.filters-section[_ngcontent-%COMP%]{padding:var(--spacing-4)}.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.summary-cards[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:var(--spacing-3)}.summary-card[_ngcontent-%COMP%]{padding:var(--spacing-4)}.summary-value[_ngcontent-%COMP%]{font-size:var(--font-size-xl)}}@media (max-width: 480px){.reports-page[_ngcontent-%COMP%]{padding:var(--spacing-3)}.page-title[_ngcontent-%COMP%]{font-size:var(--font-size-2xl)}.filters-section[_ngcontent-%COMP%]{padding:var(--spacing-3)}.summary-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}.summary-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:var(--font-size-xs)}.summary-value[_ngcontent-%COMP%]{font-size:var(--font-size-lg)}}']}))}return p(),h})()},9999:(D,C,l)=>{l.d(C,{X:()=>w});var t=l(467),d=l(2425),f=l(3862),S=l(3464);let w=(()=>{var x;class v{constructor(r){this.apiService=r,this.endpoint="/clients"}getClients(r,i){return this.apiService.get(this.endpoint)}getClientById(r){return this.apiService.get(`${this.endpoint}/${r}`)}getClientByIdentification(r){return this.apiService.get(`${this.endpoint}/identification/${r}`)}searchClientsByName(r,i){return this.apiService.getPaginated(`${this.endpoint}/search`,i,{name:r})}createClient(r){return(0,d.from)(this.hashSha256Hex(r.password)).pipe((0,d.switchMap)(i=>{const c={...r,password:i};return this.apiService.post(this.endpoint,c)}))}updateClient(r,i){const c={...i};return i.password?(0,d.from)(this.hashSha256Hex(i.password)).pipe((0,d.switchMap)(s=>(c.password=s,this.apiService.put(`${this.endpoint}/${r}`,c)))):this.apiService.put(`${this.endpoint}/${r}`,c)}updateClientStatus(r,i){return this.apiService.patch(`${this.endpoint}/${r}/status`,{status:i})}deleteClient(r){return this.apiService.delete(`${this.endpoint}/${r}`)}checkIdentificationExists(r,i){const c=i?{excludeId:i.toString()}:{};return this.apiService.get(`${this.endpoint}/check-identification/${r}`,c)}checkNameExists(r,i){const c=i?{excludeId:i.toString()}:{};return this.apiService.get(`${this.endpoint}/check-name/${r}`,c)}getClientStats(){return this.apiService.get(`${this.endpoint}/stats`)}hashSha256Hex(r){return(0,t.A)(function*(){const c=(new TextEncoder).encode(r),s=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(s)).map(y=>y.toString(16).padStart(2,"0")).join("")})()}static#e=x=()=>(this.\u0275fac=function(i){return new(i||v)(f.\u0275\u0275inject(S.G))},this.\u0275prov=f.\u0275\u0275defineInjectable({token:v,factory:v.\u0275fac,providedIn:"root"}))}return x(),v})()}}]);